[tool:pytest]
# Pytest configuration for ezib_async

# Test discovery - include both unit and integration directories
testpaths = tests

# Markers for test categorization
markers =
    unit: Unit tests (fast, no external dependencies)
    integration: Integration tests (require IB Gateway/TWS)
    slow: Slow-running tests
    network: Tests requiring network connectivity

# Default options
addopts = 
    -v
    --strict-markers
    --tb=short
    
# Async test configuration
asyncio_mode = auto

# Coverage configuration
# Run with: pytest --cov=src/ezib_async --cov-report=html

# Default behavior: run unit tests only (skip integration unless requested)
# Use pytest -m "not integration" for unit tests only
# Use pytest -m integration --run-integration for integration tests only
# Use pytest --run-integration for all tests